(this["webpackJsonpweb-client"]=this["webpackJsonpweb-client"]||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/cover.0820dd1e.png"},44:function(e,t,a){},56:function(e,t,a){e.exports=a(76)},61:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){e.exports=a.p+"static/media/business.44030cf3.png"},73:function(e,t,a){e.exports=a.p+"static/media/chef.17dd6d61.png"},74:function(e,t,a){e.exports=a.p+"static/media/junk-food.74a55bf8.png"},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),l=(a(61),a(25)),c=a(26),u=a(28),i=a(27),d=a(18),m=a(22),h=a(17),p=a(84),g=a(50),E=a(79),b=a(80),v=(a(44),a(62),a(14)),f=a.n(v),y=a(5),k=a.n(y);function C(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(""),l=Object(h.a)(o,2),c=l[0],u=l[1],i=Object(n.useState)(!0),d=Object(h.a)(i,2),v=d[0],y=d[1],C=Object(n.useState)(""),O=Object(h.a)(C,2),j=O[0],w=O[1],B=Object(m.g)();return r.a.createElement("div",{className:"LoginForm"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),$.ajax({type:"GET",url:"https://order-out-tracker.herokuapp.com/login?username="+a+"&password="+c,data:"",dataType:"json",success:function(e){var t=e;t.success?(k.a.set("user",a),B.push("/home"),y(!0),w("")):(console.log(t.message),w(t.message),y(!1))}})}},r.a.createElement(f.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a,{controlId:"formBasicEmail"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{value:a,onChange:function(e){return s(e.target.value)},type:"username",placeholder:"Enter username"})),r.a.createElement(g.a,{controlId:"formBasicPassword"},r.a.createElement(p.a.Label,null,"Password"),r.a.createElement(p.a.Control,{value:c,onChange:function(e){return u(e.target.value)},type:"password",placeholder:"Password"})),r.a.createElement(E.a,{variant:"primary",type:"submit",disabled:!(a.length>0&&c.length>0)},"Login"),r.a.createElement(b.a,{className:"UserAlert",variant:"danger",show:!v},j)))))}function O(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(""),l=Object(h.a)(o,2),c=l[0],u=l[1],i=Object(n.useState)(!0),d=Object(h.a)(i,2),v=d[0],y=d[1],C=Object(n.useState)(""),O=Object(h.a)(C,2),j=O[0],w=O[1],B=Object(m.g)();return r.a.createElement(f.a,null,r.a.createElement("div",{className:"RegisterForm"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),$.ajax({type:"POST",url:"https://order-out-tracker.herokuapp.com/createAccount?username="+a+"&password="+c,data:"",dataType:"json",success:function(e){var t=e;t.success?(k.a.set("user",a),B.push("/home"),y(!0),w("")):(console.log(t.message),w(t.message),y(!1))}})}},r.a.createElement(p.a,null,r.a.createElement(g.a,{controlId:"formBasicEmail"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{value:a,onChange:function(e){return s(e.target.value)},type:"username",placeholder:"Enter username"})),r.a.createElement(g.a,{controlId:"formBasicPassword"},r.a.createElement(p.a.Label,null,"Password"),r.a.createElement(p.a.Control,{value:c,onChange:function(e){return u(e.target.value)},type:"password",placeholder:"Password"})),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Register"),r.a.createElement(b.a,{className:"UserAlert",variant:"danger",show:!v},j)))))}var j=a(81);a(70);function w(){var e=Object(m.g)();return r.a.createElement("div",{className:"Landing"},r.a.createElement(f.a,{delay:1e3},r.a.createElement("img",{className:"Logo",src:a(38)}),r.a.createElement(j.a,null,r.a.createElement(E.a,{onClick:function(){return e.push("/login")},className:"buttons",variant:"primary",type:"button"},"Login"),r.a.createElement(E.a,{onClick:function(){return e.push("/register")},className:"buttons",variant:"primary",type:"button"},"Register"))))}var B=a(10),S=a(85),F=(a(71),a(30)),N=a(83),P=0,x=0,T="",I=0;var R=function(e){return r.a.createElement(p.a,{onSubmit:function(){return function(e,t,a,n){e.preventDefault();var r=k.a.get("user");k.a.set("progressPercent",P.value),k.a.set("progressBudget",x.value),$.ajax({type:"POST",url:"https://order-out-tracker.herokuapp.com/setProgress?user="+r+"&percentOrder="+P.value+"&budget="+x.value,data:"",success:function(e){t(P.value),a(x.value),n()}})}(event,e.changePercent,e.changeBudget,e.handleCloseForm)}},r.a.createElement(p.a.Group,{controlId:"formGridPercent"},r.a.createElement(p.a.Label,null,"Percentage of cooked meals (%)"),r.a.createElement(p.a.Control,{type:"number",placeholder:"50",ref:function(e){return P=e}})),r.a.createElement(p.a.Group,{controlId:"formGridBudget"},r.a.createElement(p.a.Label,null,"Budget ($)"),r.a.createElement(p.a.Control,{type:"number",placeholder:"150",ref:function(e){return x=e}})),r.a.createElement(E.a,{type:"submit",variant:"success"},"Done!"))},L=function(e){return r.a.createElement(p.a,{onSubmit:function(){return function(e,t){e.preventDefault(),$.ajax({type:"POST",url:"https://order-out-tracker.herokuapp.com/addExpense?user="+k.a.get("user")+"&vendor="+T.value+"&date=2020-01-01&cost="+I.value,data:"",dataType:"json",success:function(e){t(T.value,I.value)}})}(event,e.addEntry)}},r.a.createElement(p.a.Group,{controlId:"formGridVendor"},r.a.createElement(p.a.Label,null,"Restaurant:"),r.a.createElement(p.a.Control,{type:"text",placeholder:"McDonald's",ref:function(e){return T=e}})),r.a.createElement(p.a.Group,{controlId:"formGridCost"},r.a.createElement(p.a.Label,null,"Cost ($)"),r.a.createElement(p.a.Control,{type:"number",placeholder:"$12.00",ref:function(e){return I=e}})),r.a.createElement(E.a,{type:"submit",variant:"success"},"Add"))},A=function(e){return r.a.createElement(N.a,{show:e.show,onHide:e.handleClose,animation:!1},r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,null,"Wait!")),r.a.createElement(N.a.Body,null,"Are you sure you want to reset your progress? This will wipe out all existing information."),r.a.createElement(N.a.Footer,null,r.a.createElement(E.a,{variant:"outline-secondary",onClick:e.handleClose},"Cancel"),r.a.createElement(E.a,{variant:"danger",onClick:e.handleConfirm},"Yes")))},G=function(e){var t=e.disableClose?function(){}:e.handleClose;return r.a.createElement(N.a,{show:e.show,onHide:t,animation:!1},r.a.createElement(N.a.Header,e.closeButton,r.a.createElement(N.a.Title,null,"Change Goals")),r.a.createElement(N.a.Body,null,r.a.createElement(R,{changePercent:e.changePercent,changeBudget:e.changeBudget,handleCloseForm:e.handleClose})))},D=function(e){return r.a.createElement(N.a,{show:e.show,onHide:e.handleClose,animation:!1},r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,null,"I Ordered Out!")),r.a.createElement(N.a.Body,null,r.a.createElement(L,{addEntry:e.addEntry})))},H=(a(77),function(e){return r.a.createElement(F.a,{className:"progress-cards"},r.a.createElement(F.a.Body,null,r.a.createElement("img",{className:"card-icon",src:e.image}),e.cardCategory," ",e.cardStats,r.a.createElement(E.a,{size:"sm",variant:"outline-primary",onClick:e.handleAdd},e.buttonText)))}),z=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(l.a)(this,n),a=t.call(this,e);var r=k.a.get("user");console.log(r),r&&"undefined"!==r||a.props.history.push("/");var s=parseFloat(k.a.get("percentOrder")),o=parseFloat(k.a.get("budget"));return a.state={showReset:!1,showForm:!s&&!o,progressCloseButton:!s&&!o,percent:s,budget:o,spent:parseFloat(k.a.get("spent")),mealsCooked:k.a.get("mealsCooked"),mealsBought:k.a.get("mealsBought")},a.handleReset=a.handleReset.bind(Object(B.a)(a)),a.handleCloseReset=a.handleCloseReset.bind(Object(B.a)(a)),a.handleForm=a.handleForm.bind(Object(B.a)(a)),a.handleCloseForm=a.handleCloseForm.bind(Object(B.a)(a)),a.handleOpenEntries=a.handleOpenEntries.bind(Object(B.a)(a)),a.handleLogOut=a.handleLogOut.bind(Object(B.a)(a)),a.handleAddCooked=a.handleAddCooked.bind(Object(B.a)(a)),a.handleAddTakeout=a.handleAddTakeout.bind(Object(B.a)(a)),a.handleResetProgress=a.handleResetProgress.bind(Object(B.a)(a)),a}return Object(c.a)(n,[{key:"componentWillMount",value:function(){clearInterval(this.interval)}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:Date.now()})}),1e3),$.ajax({type:"GET",url:"https://order-out-tracker.herokuapp.com/progress?user="+k.a.get("user"),data:"",dataType:"json",success:function(e){var t=e,a=t.percentOrder,n=t.budget,r=t.spent,s=t.cookCount,o=t.orderCount;k.a.set("percentOrder",a),k.a.set("budget",n),k.a.set("spent",r),k.a.set("mealsCooked",s),k.a.set("mealsBought",o)}})}},{key:"changePercent",value:function(e){this.setState((function(){return{percent:parseInt(e)}}))}},{key:"changeBudget",value:function(e){this.setState((function(){return{budget:parseInt(e)}}))}},{key:"handleLogOut",value:function(e){k.a.set("user",void 0),this.props.history.push("/")}},{key:"handleOpenEntries",value:function(e){k.a.set("percentOrder",this.state.percent),k.a.set("budget",this.state.budget),k.a.set("spent",this.state.spent),k.a.set("mealsCooked",this.state.mealsCooked),k.a.set("mealsBought",this.state.mealsBought),this.props.history.push("/entries")}},{key:"getProgressVariant",value:function(e,t){var a=e-t;switch(!0){case a>=0:return"success";case a>12:return"warning";default:return"danger"}}},{key:"handleResetProgress",value:function(){$.ajax({type:"POST",url:"https://order-out-tracker.herokuapp.com/deleteProgress?user="+k.a.get("user"),data:"",dataType:"json",success:function(e){}}),this.setState((function(){return{budget:0,percent:0,spent:0,mealsCooked:0,mealsOrdered:0,showReset:!1,showForm:!0}}))}},{key:"handleAddCooked",value:function(){var e=parseInt(this.state.mealsCooked);$.ajax({type:"POST",url:"https://order-out-tracker.herokuapp.com/addCookCount?user="+k.a.get("user")+"&count=1",data:"",dataType:"json",success:function(){var t=e+1;k.a.set("mealsCooked",t)}}),this.setState((function(e){return{mealsCooked:parseInt(e.mealsCooked)+1}}))}},{key:"handleAddTakeout",value:function(){var e=parseInt(this.state.mealsBought);$.ajax({type:"POST",url:"https://order-out-tracker.herokuapp.com/addOrderCount?user="+k.a.get("user")+"&count=1",data:"",dataType:"json",success:function(){var t=e+1;k.a.set("mealsBought",t)}}),this.setState((function(e){return{mealsBought:parseInt(e.mealsBought)+1}}))}},{key:"handleReset",value:function(){this.setState((function(){return{showReset:!0}}))}},{key:"handleForm",value:function(){this.setState((function(){return{showForm:!0}}))}},{key:"handleCloseReset",value:function(){this.setState((function(){return{showReset:!1}}))}},{key:"handleCloseForm",value:function(){this.setState((function(){return{showForm:!1}}))}},{key:"render",value:function(){var e=parseInt(this.state.budget),t=parseInt(this.state.spent),n=0===e&&0===t?0:0===e?100:100-t/e*100,s=parseInt(this.state.percent),o=parseInt(this.state.mealsCooked),l=parseInt(this.state.mealsBought),c=l+o===0?0:o/(l+o)*100;return c=c.toFixed(0),r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"HomeLogo"},r.a.createElement("img",{className:"Logo",src:a(38)})),r.a.createElement(f.a,{delay:0},r.a.createElement("div",{className:"progress-content"},r.a.createElement("div",{className:"progress-group"},r.a.createElement(j.a,null,r.a.createElement(E.a,{className:"right-align",size:"sm",variant:"outline-danger",onClick:this.handleReset},"Reset Progress"),r.a.createElement(E.a,{className:"right-align",size:"sm",variant:"outline-success",onClick:this.handleForm},"Change Goals")),r.a.createElement(A,{show:this.state.showReset,handleConfirm:this.handleResetProgress.bind(this),handleClose:this.handleCloseReset}),r.a.createElement(G,{closeButton:this.state.progressCloseButton,show:this.state.showForm,changePercent:this.changePercent.bind(this),changeBudget:this.changeBudget.bind(this),disableClose:!this.state.percent&&!this.state.budget,handleClose:this.handleCloseForm.bind(this)}),r.a.createElement("div",{className:"progress-cards"},r.a.createElement("div",{className:"progress-label"},n,"% of budget left"),r.a.createElement(S.a,{animated:!0,now:n,label:"".concat(n,"%"),variant:"info"})),r.a.createElement(F.a,{className:"progress-cards"},r.a.createElement(F.a.Body,null,r.a.createElement("img",{className:"card-icon",src:a(72)}),r.a.createElement("b",null,"$",t)," of ",r.a.createElement("b",null,"$",e)," spent",r.a.createElement(E.a,{size:"sm",variant:"outline-info",onClick:this.handleOpenEntries},"Orders")))),r.a.createElement("div",{className:"progress-group"},r.a.createElement("div",{className:"progress-cards"},r.a.createElement("div",{className:"progress-label"},r.a.createElement("b",null,"Goal:")," ",s,"% cooked meals"),r.a.createElement(S.a,{animated:!0,now:s,label:"".concat(s,"%")})),r.a.createElement("div",{className:"progress-cards"},r.a.createElement("div",{className:"progress-label"},r.a.createElement("b",null,"Currently:")," ",c,"% cooked meals"),r.a.createElement(S.a,{animated:!0,now:c,label:"".concat(c,"%"),variant:this.getProgressVariant(c,s)})),r.a.createElement(H,{image:a(73),buttonText:"+1",handleAdd:(this.state.budget||this.state.percent)&&this.handleAddCooked,cardCategory:r.a.createElement("b",null,"Meals ",r.a.createElement("i",null,"cooked:")),cardStats:o}),r.a.createElement(H,{image:a(74),buttonText:"+1",handleAdd:(this.state.budget||this.state.percent)&&this.handleAddTakeout,cardCategory:r.a.createElement("b",null,"Meals ",r.a.createElement("i",null,"bought:")),cardStats:l}),r.a.createElement(E.a,{className:"right-align",size:"sm",variant:"outline-dark",onClick:this.handleLogOut},"Log Out")))))}}]),n}(r.a.Component),M=(a(75),a(82));function U(e){var t=e;return r.a.createElement("tbody",null,t.map((function(e,t){return function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.vendor),r.a.createElement("td",null,"$",e.cost.toFixed(2)))}(e,t)})))}var W=function(e){return r.a.createElement(M.a,{striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Cost"))),U(e.entries))},J=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(l.a)(this,n),a=t.call(this,e);var r=k.a.get("user");return console.log(r),r&&"undefined"!==r||a.props.history.push("/"),a.state={showForm:!1,entries:JSON.parse(k.a.get("entries"))},a.handleForm.bind(Object(B.a)(a)),a.handleBack.bind(Object(B.a)(a)),a.handleCloseForm.bind(Object(B.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"https://order-out-tracker.herokuapp.com/getExpenses?user="+k.a.get("user"),data:"",dataType:"json",success:function(e){var t=e;k.a.set("entries",t)}})}},{key:"addEntry",value:function(e,t){k.a.set("spent",parseInt(k.a.get("spent"))+t),this.setState((function(a){var n=a.entries;return n.push({vendor:e,cost:t}),{entries:n,showForm:!1}}))}},{key:"handleForm",value:function(){this.setState((function(){return{showForm:!0}}))}},{key:"handleCloseForm",value:function(){this.setState((function(){return{showForm:!1}}))}},{key:"handleBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Entries"},r.a.createElement("div",{className:"HomeLogo"},r.a.createElement("img",{className:"Logo",src:a(38)})),r.a.createElement(f.a,{delay:0},r.a.createElement("div",{className:"entries-content"},r.a.createElement(E.a,{className:"entries-button",size:"sm",variant:"outline-primary",onClick:this.handleBack.bind(this)},"Back"),r.a.createElement(E.a,{className:"right-align entries-button",size:"sm",variant:"success",onClick:this.handleForm.bind(this)},"Add"),r.a.createElement(D,{addEntry:this.addEntry.bind(this),show:this.state.showForm,handleClose:this.handleCloseForm.bind(this)}),r.a.createElement(W,{entries:this.state.entries}))))}}]),n}(r.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/login",component:Object(m.h)(C)}),r.a.createElement(m.b,{exact:!0,path:"/register",component:Object(m.h)(O)}),r.a.createElement(m.b,{exact:!0,path:"/landing",component:Object(m.h)(w)}),r.a.createElement(m.b,{exact:!0,path:"/home",component:Object(m.h)(z)}),r.a.createElement(m.b,{exact:!0,path:"/entries",component:Object(m.h)(J)}),r.a.createElement(m.a,{exact:!0,path:"/",to:"landing"})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(11),q=Object(Y.a)();o.a.render(r.a.createElement(d.a,{history:q},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.be170f81.chunk.js.map